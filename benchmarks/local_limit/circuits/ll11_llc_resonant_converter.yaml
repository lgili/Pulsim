schema: pulsim-v1
version: 1
benchmark:
  id: ll11_llc_resonant_converter
  category: local_limit
  validation:
    type: none
simulation:
  tstart: 0.0
  tstop: 2e-3
  dt: 0.1e-6
components:
  - type: voltage_source
    name: Vdc
    nodes: [vin, 0]
    waveform:
      type: dc
      value: 400.0

  - type: voltage_source
    name: Vpwm_hi
    nodes: [ctrl_hi, 0]
    waveform:
      type: pwm
      v_high: 12.0
      v_low: 0.0
      frequency: 100000
      duty: 0.48
      dead_time: 0.2e-6
      phase: 0.0
  - type: voltage_source
    name: Vpwm_lo
    nodes: [ctrl_lo, 0]
    waveform:
      type: pwm
      v_high: 12.0
      v_low: 0.0
      frequency: 100000
      duty: 0.48
      dead_time: 0.2e-6
      phase: 0.5

  - type: vcswitch
    name: S_hi
    nodes: [ctrl_hi, vin, mid]
    v_threshold: 6.0
    ron: 0.05
    roff: 1e8
  - type: vcswitch
    name: S_lo
    nodes: [ctrl_lo, mid, 0]
    v_threshold: 6.0
    ron: 0.05
    roff: 1e8

  - type: capacitor
    name: Cr
    nodes: [mid, res]
    value: 22n
  # Transformer T-Model Equivalent
  # Prim: Lm + Lleak1, Sec1: Lleak2, Sec2: Lleak3
  - type: inductor
    name: Lm_core
    nodes: [prim, 0]
    value: 198u
  
  - type: inductor
    name: Lleak_prim
    nodes: [res, prim]
    value: 2u

  - type: inductor
    name: Lsec1
    nodes: [prim, sec_ct]
    value: 2u
  - type: inductor
    name: Lsec2
    nodes: [sec_ct, sec2]
    value: 2u

  - type: resistor
    name: Rct_gnd
    nodes: [sec_ct, 0]
    value: 1m

  - type: diode
    name: D1
    nodes: [sec_ct, vout]
    is: 1e-14
    n: 1.0
  - type: diode
    name: D2
    nodes: [sec2, vout]
    is: 1e-14
    n: 1.0

  - type: capacitor
    name: Cout
    nodes: [vout, 0]
    value: 100u
  - type: resistor
    name: Rload
    nodes: [vout, 0]
    value: 10.0
